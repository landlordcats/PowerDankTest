<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web NFC è¯»å†™å·¥å…·</title>
    <style>
        /* å…¨å±€æ ·å¼é‡ç½® */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        /* å®¹å™¨æ ·å¼ */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        /* æ ‡é¢˜æ ·å¼ */
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 24px;
        }

        /* è¯´æ˜æ–‡æœ¬ */
        .instructions {
            background-color: #e8f4f8;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
            font-size: 14px;
        }

        /* å¡ç‰‡æ ·å¼ */
        .card {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .card h2 {
            color: #34495e;
            margin-bottom: 15px;
            font-size: 18px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        /* æŒ‰é’®æ ·å¼ */
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin: 10px 5px;
        }

        button:hover {
            background-color: #2980b9;
        }

        button:active {
            transform: translateY(1px);
        }

        button:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
        }

        /* è¾“å…¥åŒºåŸŸæ ·å¼ */
        .input-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #555;
        }

        input[type="text"],
        textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            font-family: monospace;
            resize: vertical;
            min-height: 100px;
        }

        input[type="text"]:focus,
        textarea:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }

        /* æ•°æ®å±•ç¤ºåŒºåŸŸ */
        .data-display {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin-top: 15px;
            font-family: monospace;
            white-space: pre-wrap;
            word-break: break-all;
            min-height: 100px;
        }

        /* æç¤ºåŒºåŸŸ */
        .message-area {
            margin-top: 20px;
            padding: 15px;
            border-radius: 4px;
            font-size: 14px;
        }

        .message-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .message-error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .message-info {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        /* åŠ è½½åŠ¨ç”» */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(52, 152, 219, 0.3);
            border-radius: 50%;
            border-top-color: #3498db;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* éšè—ç±» */
        .hidden {
            display: none;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            h1 {
                font-size: 20px;
            }

            .card {
                padding: 15px;
            }

            button {
                padding: 10px 16px;
                font-size: 14px;
            }

            input[type="text"],
            textarea {
                font-size: 13px;
            }
        }

        /* æ•°æ®æ ¼å¼é€‰æ‹©å™¨ */
        .format-selector {
            margin: 10px 0;
        }

        .format-selector label {
            display: inline-block;
            margin-right: 15px;
            cursor: pointer;
        }

        /* æƒé™æç¤º */
        .permission-prompt {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Web NFC è¯»å†™å·¥å…·</h1>

        <!-- æ“ä½œå¼•å¯¼è¯´æ˜ -->
        <div class="instructions">
            <h3>ä½¿ç”¨è¯´æ˜ï¼š</h3>
            <ul>
                <li>è¯·ç¡®ä¿è®¾å¤‡å·²å¼€å¯ NFC åŠŸèƒ½</li>
                <li>å»ºè®®ä½¿ç”¨ Chrome/Edge ç­‰ Chromium å†…æ ¸æµè§ˆå™¨</li>
                <li>æœ¬å·¥å…·ä»…åœ¨ HTTPS æˆ– localhost å®‰å…¨ä¸Šä¸‹æ–‡ä¸‹å·¥ä½œ</li>
                <li>é¦–æ¬¡æ“ä½œæ—¶ä¼šè§¦å‘æµè§ˆå™¨ NFC æƒé™æˆæƒï¼Œè¯·å…è®¸è®¿é—®</li>
                <li>æ‰€æœ‰ NFC æ“ä½œå‡é€šè¿‡é¡µé¢æŒ‰é’®ç‚¹å‡»è§¦å‘</li>
            </ul>
        </div>

        <!-- æ”¯æŒæ£€æµ‹æç¤º -->
        <div id="support-message" class="message-area hidden"></div>

        <!-- è¯»å–åŒºåŸŸ -->
        <div class="card">
            <h2>è¯»å–åŒºåŸŸ</h2>
            <button id="read-btn">è¯»å– NFC å¡ç‰‡</button>
            <div class="format-selector">
                <label><input type="radio" name="read-format" value="hex" checked> åå…­è¿›åˆ¶</label>
                <label><input type="radio" name="read-format" value="dec"> åè¿›åˆ¶</label>
            </div>
        </div>

        <!-- å†™å…¥åŒºåŸŸ -->
        <div class="card">
            <h2>å†™å…¥åŒºåŸŸ</h2>
            <div class="input-group">
                <label for="write-data">å†™å…¥æ•°æ®ï¼ˆåå…­è¿›åˆ¶æ ¼å¼ï¼Œå¦‚ï¼š00 A1 B2 C3ï¼‰</label>
                <textarea id="write-data" placeholder="è¯·è¾“å…¥è¦å†™å…¥çš„åå…­è¿›åˆ¶æ•°æ®"></textarea>
            </div>
            <button id="write-btn">å†™å…¥ NFC å¡ç‰‡</button>
        </div>

        <!-- æ•°æ®å±•ç¤ºåŒºåŸŸ -->
        <div class="card">
            <h2>æ•°æ®å±•ç¤ºåŒºåŸŸ</h2>
            <div id="data-display" class="data-display">
                æ“ä½œç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...
            </div>
        </div>

        <!-- æç¤ºåŒºåŸŸ -->
        <div class="card">
            <h2>æ“ä½œçŠ¶æ€</h2>
            <div id="status-message" class="message-area message-info">
                å°±ç»ªï¼Œè¯·ç‚¹å‡»æŒ‰é’®å¼€å§‹æ“ä½œ
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let nfcReader = null;
        let isScanning = false;
        let readAbortController = null;

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            checkNFCSupport();
            document.getElementById('read-btn').addEventListener('click', handleRead);
            document.getElementById('write-btn').addEventListener('click', handleWrite);
        });

        /**
         * æ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒ Web NFC API
         */
        function checkNFCSupport() {
            const supportMessage = document.getElementById('support-message');
            
            if ('NDEFReader' in window) {
                supportMessage.className = 'message-area message-success';
                supportMessage.textContent = 'âœ… æµè§ˆå™¨æ”¯æŒ Web NFC API';
                supportMessage.classList.remove('hidden');
                
                initNFCReader();
            } else {
                supportMessage.className = 'message-area message-error';
                supportMessage.textContent = 'âŒ æµè§ˆå™¨ä¸æ”¯æŒ Web NFC APIï¼Œè¯·ä½¿ç”¨æœ€æ–°ç‰ˆ Chrome/Edge æµè§ˆå™¨';
                supportMessage.classList.remove('hidden');
                
                document.getElementById('read-btn').disabled = true;
                document.getElementById('write-btn').disabled = true;
            }
        }

        /**
         * åˆå§‹åŒ– NFC è¯»å–å™¨
         */
        function initNFCReader() {
            try {
                nfcReader = new NDEFReader();
                updateStatus('å°±ç»ªï¼Œè¯·ç‚¹å‡»æŒ‰é’®å¼€å§‹æ“ä½œ', 'info');
            } catch (error) {
                handleError('åˆå§‹åŒ– NFC è¯»å–å™¨å¤±è´¥', error);
            }
        }

        /**
         * å¤„ç†è¯»å–æ“ä½œ
         */
        async function handleRead() {
            if (isScanning) {
                // å¦‚æœå·²ç»åœ¨æ‰«æï¼Œåˆ™åœæ­¢
                if (readAbortController) {
                    readAbortController.abort();
                    readAbortController = null;
                }
                isScanning = false;
                document.getElementById('read-btn').disabled = false;
                updateStatus('å·²åœæ­¢æ‰«æ', 'info');
                return;
            }
            
            try {
                isScanning = true;
                updateStatus('<div class="loading"></div> æ­£åœ¨æ‰«æ NFC å¡ç‰‡ï¼Œè¯·å°†å¡ç‰‡é è¿‘è®¾å¤‡èƒŒé¢...', 'info');
                document.getElementById('read-btn').textContent = 'åœæ­¢è¯»å–';
                
                // åˆ›å»ºæ–°çš„ AbortController ç”¨äºåœæ­¢æ‰«æ
                readAbortController = new AbortController();
                
                // ç”³è¯· NFC æƒé™å¹¶å¼€å§‹æ‰«æ
                await nfcReader.scan({ signal: readAbortController.signal });
                
                // ç›‘å¬è¯»å–äº‹ä»¶
                nfcReader.onreading = async function(event) {
                    try {
                        const serialNumber = event.serialNumber || 'æœªçŸ¥';
                        const message = event.message;
                        
                        // è·å–å¡ç‰‡ä¿¡æ¯ï¼ˆéœ€è¦é¢å¤–çš„APIè°ƒç”¨ï¼‰
                        let techs = await getCardTechs();
                        
                        // è§£ææ•°æ®
                        let data = new Uint8Array();
                        let hasData = false;
                        
                        if (message && message.records && message.records.length > 0) {
                            // å¦‚æœæœ‰å¤šä¸ªè®°å½•ï¼Œå–ç¬¬ä¸€ä¸ªè®°å½•çš„æ•°æ®
                            const record = message.records[0];
                            
                            // ä¸åŒç±»å‹çš„è®°å½•æœ‰ä¸åŒçš„æ•°æ®æ ¼å¼
                            if (record.recordType === "text") {
                                // æ–‡æœ¬è®°å½•
                                const textDecoder = new TextDecoder(record.encoding || "utf-8");
                                const text = textDecoder.decode(record.data);
                                data = new TextEncoder().encode(text);
                                hasData = true;
                            } else if (record.recordType === "url") {
                                // URLè®°å½•
                                const textDecoder = new TextDecoder();
                                const url = textDecoder.decode(record.data);
                                data = new TextEncoder().encode(url);
                                hasData = true;
                            } else if (record.recordType === "mime") {
                                // MIMEç±»å‹è®°å½•
                                data = record.data;
                                hasData = true;
                            } else if (record.recordType === "opaque") {
                                // åŸå§‹æ•°æ®
                                data = record.data;
                                hasData = true;
                            } else {
                                // å…¶ä»–ç±»å‹ï¼Œå°è¯•ç›´æ¥è¯»å–
                                try {
                                    data = record.data;
                                    hasData = true;
                                } catch (e) {
                                    console.log('æ— æ³•è¯»å–è®°å½•æ•°æ®:', e);
                                }
                            }
                        }
                        
                        // æ˜¾ç¤ºä¿¡æ¯
                        displayReadData(data, serialNumber, techs, message);
                        
                        if (hasData) {
                            updateStatus('âœ… è¯»å–æˆåŠŸ', 'success');
                        } else {
                            updateStatus('âš ï¸ å¡ç‰‡å·²è¯†åˆ«ï¼Œä½†æœªè¯»å–åˆ°æ•°æ®', 'info');
                        }
                        
                    } catch (error) {
                        console.error('å¤„ç†è¯»å–æ•°æ®æ—¶å‡ºé”™:', error);
                        handleError('å¤„ç†è¯»å–æ•°æ®æ—¶å‡ºé”™', error);
                    }
                };
                
                // ç›‘å¬è¯»å–é”™è¯¯äº‹ä»¶
                nfcReader.onreadingerror = function(event) {
                    console.error('è¯»å–é”™è¯¯:', event);
                    handleError('è¯»å–è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯', event.error);
                    resetReadState();
                };
                
            } catch (error) {
                handleError('è¯»å–æ“ä½œå¤±è´¥', error);
                resetReadState();
            }
        }

        /**
         * å°è¯•è·å–å¡ç‰‡æ”¯æŒçš„æŠ€æœ¯
         */
        async function getCardTechs() {
            try {
                // è¿™ä¸ªæ–¹æ³•å¯èƒ½éœ€è¦æµè§ˆå™¨ç‰¹å®šå®ç°
                // æœ‰äº›æµè§ˆå™¨å¯èƒ½ä¸æ”¯æŒè¿™ä¸ªåŠŸèƒ½
                if (nfcReader && typeof nfcReader.getSupportedTechnologies === 'function') {
                    return await nfcReader.getSupportedTechnologies();
                }
                
                // å°è¯•å…¶ä»–å¯èƒ½çš„å±æ€§
                if (nfcReader.techs) {
                    return nfcReader.techs;
                }
                
                return 'NFC-A, NFC-B'; // å¸¸è§çš„é»˜è®¤å€¼
            } catch (e) {
                console.log('æ— æ³•è·å–å¡ç‰‡æŠ€æœ¯:', e);
                return 'æœªçŸ¥';
            }
        }

        /**
         * å±•ç¤ºè¯»å–çš„æ•°æ®
         */
        function displayReadData(data, serialNumber, techs, message) {
            const dataDisplay = document.getElementById('data-display');
            const format = document.querySelector('input[name="read-format"]:checked').value;
            
            // æ˜¾ç¤ºå¡ç‰‡ä¿¡æ¯
            let displayText = `å¡ç‰‡åºåˆ—å·ï¼š${serialNumber}\n`;
            displayText += `æ”¯æŒçš„æŠ€æœ¯ï¼š${techs}\n\n`;
            
            // æ˜¾ç¤ºNDEFæ¶ˆæ¯ä¿¡æ¯
            if (message && message.records) {
                displayText += `NDEFè®°å½•æ•°é‡ï¼š${message.records.length}\n`;
                
                message.records.forEach((record, index) => {
                    displayText += `\nè®°å½• #${index + 1}ï¼š\n`;
                    displayText += `  ç±»å‹ï¼š${record.recordType}\n`;
                    
                    if (record.mediaType) {
                        displayText += `  MIMEç±»å‹ï¼š${record.mediaType}\n`;
                    }
                    
                    if (record.recordType === "text" && record.lang) {
                        displayText += `  è¯­è¨€ï¼š${record.lang}\n`;
                    }
                    
                    // æ˜¾ç¤ºæ•°æ®
                    if (record.data && record.data.byteLength > 0) {
                        let dataArray = new Uint8Array(record.data);
                        if (format === 'hex') {
                            const hexString = uint8ArrayToHex(dataArray);
                            displayText += `  æ•°æ®ï¼ˆåå…­è¿›åˆ¶ï¼‰ï¼š${hexString}\n`;
                        } else {
                            const decString = Array.from(dataArray).join(' ');
                            displayText += `  æ•°æ®ï¼ˆåè¿›åˆ¶ï¼‰ï¼š${decString}\n`;
                        }
                        
                        // å¦‚æœæ˜¯æ–‡æœ¬ï¼Œæ˜¾ç¤ºå¯è¯»æ–‡æœ¬
                        if (record.recordType === "text") {
                            try {
                                const textDecoder = new TextDecoder(record.encoding || "utf-8");
                                const text = textDecoder.decode(record.data);
                                displayText += `  æ–‡æœ¬å†…å®¹ï¼š${text}\n`;
                            } catch (e) {
                                console.log('æ— æ³•è§£ç æ–‡æœ¬:', e);
                            }
                        }
                        
                        // å¦‚æœæ˜¯URLï¼Œæ˜¾ç¤ºURL
                        if (record.recordType === "url") {
                            try {
                                const textDecoder = new TextDecoder();
                                const url = textDecoder.decode(record.data);
                                displayText += `  URLï¼š${url}\n`;
                            } catch (e) {
                                console.log('æ— æ³•è§£ç URL:', e);
                            }
                        }
                    } else {
                        displayText += `  æ•°æ®ï¼šæ— \n`;
                    }
                });
            } else {
                displayText += 'æœªè¯»å–åˆ°NDEFæ¶ˆæ¯\n';
            }
            
            dataDisplay.textContent = displayText;
        }

        /**
         * å¤„ç†å†™å…¥æ“ä½œ
         */
        async function handleWrite() {
            if (isScanning) return;
            
            try {
                const writeData = document.getElementById('write-data').value.trim();
                if (!writeData) {
                    updateStatus('âŒ è¯·è¾“å…¥è¦å†™å…¥çš„æ•°æ®', 'error');
                    return;
                }
                
                isScanning = true;
                updateStatus('<div class="loading"></div> æ­£åœ¨å‡†å¤‡å†™å…¥æ•°æ®ï¼Œè¯·å°†å¡ç‰‡é è¿‘è®¾å¤‡èƒŒé¢å¹¶ä¿æŒä¸åŠ¨...', 'info');
                document.getElementById('write-btn').disabled = true;
                
                // è½¬æ¢åå…­è¿›åˆ¶å­—ç¬¦ä¸²ä¸º Uint8Array
                const uint8Array = hexToUint8Array(writeData);
                
                // åˆ›å»ºNDEFæ¶ˆæ¯è®°å½•
                const ndefMessage = {
                    records: [{
                        recordType: "opaque", // ä½¿ç”¨opaqueç±»å‹å­˜å‚¨åŸå§‹æ•°æ®
                        data: uint8Array,
                        mediaType: "application/octet-stream"
                    }]
                };
                
                // å†™å…¥æ•°æ®
                await nfcReader.write(ndefMessage, { signal: new AbortController().signal });
                
                updateStatus('âœ… å†™å…¥æˆåŠŸï¼å¡ç‰‡å¯ä»¥ç§»å¼€äº†', 'success');
                
                // é‡æ–°å¯ç”¨è¯»å–
                setTimeout(() => {
                    isScanning = false;
                    document.getElementById('write-btn').disabled = false;
                    updateStatus('å°±ç»ªï¼Œå¯ä»¥ç»§ç»­æ“ä½œ', 'info');
                }, 2000);
                
            } catch (error) {
                handleError('å†™å…¥æ“ä½œå¤±è´¥', error);
                isScanning = false;
                document.getElementById('write-btn').disabled = false;
            }
        }

        /**
         * é‡ç½®è¯»å–çŠ¶æ€
         */
        function resetReadState() {
            isScanning = false;
            document.getElementById('read-btn').disabled = false;
            document.getElementById('read-btn').textContent = 'è¯»å– NFC å¡ç‰‡';
            readAbortController = null;
        }

        /**
         * åå…­è¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢ä¸º Uint8Array
         */
        function hexToUint8Array(hexString) {
            // ç§»é™¤æ‰€æœ‰ç©ºæ ¼å¹¶è½¬æ¢ä¸ºå¤§å†™
            const cleanHex = hexString.replace(/\s+/g, '').toUpperCase();
            
            // éªŒè¯åå…­è¿›åˆ¶æ ¼å¼
            if (!/^[0-9A-F]*$/.test(cleanHex)) {
                throw new Error('è¯·è¾“å…¥æœ‰æ•ˆçš„åå…­è¿›åˆ¶å­—ç¬¦ (0-9, A-F)');
            }
            
            // ç¡®ä¿å­—ç¬¦ä¸²é•¿åº¦ä¸ºå¶æ•°
            if (cleanHex.length % 2 !== 0) {
                throw new Error('åå…­è¿›åˆ¶å­—ç¬¦ä¸²é•¿åº¦å¿…é¡»ä¸ºå¶æ•°');
            }
            
            const length = cleanHex.length / 2;
            const result = new Uint8Array(length);
            
            for (let i = 0; i < length; i++) {
                const byte = cleanHex.substr(i * 2, 2);
                const value = parseInt(byte, 16);
                
                if (isNaN(value)) {
                    throw new Error(`æ— æ•ˆçš„åå…­è¿›åˆ¶å€¼: ${byte}`);
                }
                
                result[i] = value;
            }
            
            return result;
        }

        /**
         * Uint8Array è½¬æ¢ä¸ºåå…­è¿›åˆ¶å­—ç¬¦ä¸²
         */
        function uint8ArrayToHex(data) {
            return Array.from(data)
                .map(byte => byte.toString(16).padStart(2, '0').toUpperCase())
                .join(' ');
        }

        /**
         * æ›´æ–°çŠ¶æ€æ¶ˆæ¯
         */
        function updateStatus(message, type) {
            const statusMessage = document.getElementById('status-message');
            statusMessage.className = `message-area message-${type}`;
            statusMessage.innerHTML = message;
        }

        /**
         * å¤„ç†é”™è¯¯
         */
        function handleError(message, error) {
            let errorMessage = message;
            
            if (error) {
                console.error('NFCé”™è¯¯è¯¦æƒ…:', error);
                
                switch (error.name) {
                    case 'NotAllowedError':
                        errorMessage += 'ï¼šæƒé™è¢«æ‹’ç»ï¼Œè¯·å…è®¸æµè§ˆå™¨è®¿é—®NFC';
                        break;
                    case 'NotSupportedError':
                        errorMessage += 'ï¼šè®¾å¤‡ä¸æ”¯æŒNFCåŠŸèƒ½';
                        break;
                    case 'NotReadableError':
                        errorMessage += 'ï¼šæ— æ³•è¯»å–å¡ç‰‡ï¼Œè¯·ç¡®è®¤å¡ç‰‡ç±»å‹æ˜¯å¦æ­£ç¡®';
                        break;
                    case 'InvalidStateError':
                        errorMessage += 'ï¼šNFCæ“ä½œçŠ¶æ€æ— æ•ˆï¼Œè¯·é‡è¯•';
                        break;
                    case 'AbortError':
                        errorMessage += 'ï¼šæ“ä½œè¢«å–æ¶ˆ';
                        break;
                    default:
                        errorMessage += `ï¼š${error.message || error}`;
                        break;
                }
            }
            
            updateStatus(`âŒ ${errorMessage}`, 'error');
            
            // å¦‚æœæ˜¯æƒé™é”™è¯¯ï¼Œæ˜¾ç¤ºé¢å¤–æç¤º
            if (error && error.name === 'NotAllowedError') {
                setTimeout(() => {
                    updateStatus('ğŸ’¡ æç¤ºï¼šè¯·åœ¨æ‰‹æœºè®¾ç½®ä¸­ä¸ºæµè§ˆå™¨å¯ç”¨NFCæƒé™ï¼Œç„¶ååˆ·æ–°é¡µé¢é‡è¯•', 'info');
                }, 2000);
            }
        }
    </script>
</body>
</html>